<dx-file-manager
  id="fileManager"
  [fileSystemProvider]="fileItems"
  height="850"
  (selectedItemChanged)="onSelectedItemChanged($event)"
>
  <dxo-permissions
    [create]="true"
    [copy]="true"
    [move]="true"
    [delete]="true"
    [rename]="true"
    [upload]="true"
    [download]="true"
  >
  </dxo-permissions>
</dx-file-manager>

<dx-popup
  [(visible)]="showEmailFormPopup"
  [width]="1080"
  [height]="1080"
  title="Request Create New Email"
  [showCloseButton]="true"
>
  <div class="container mx-auto p-6 max-w-2xl">
    <h3 class="text-2xl font-bold text-center text-blue-900 mb-4">Email Creation Form</h3>
    <hr class="border-blue-900 mb-6">

    <form [formGroup]="emailForm" (ngSubmit)="onSubmit()" class="bg-white p-6 rounded-lg shadow-md">
      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Name</label>
        <div class="flex space-x-2 mb-2">
          <select formControlName="prefix" class="w-1/6 p-2 border rounded">
            <option value="">Prefix</option>
            <option value="Mr">Mr</option>
            <option value="Ms">Ms</option>
            <option value="Mrs">Mrs</option>
          </select>
          <input formControlName="firstName" type="text" placeholder="First Name" class="w-5/12 p-2 border rounded">
          <input formControlName="middleName" type="text" placeholder="Middle Name" class="w-3/12 p-2 border rounded">
          <input formControlName="lastName" type="text" placeholder="Last Name" class="w-3/12 p-2 border rounded">
        </div>
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Preferred Name</label>
        <input formControlName="preferredName" type="text" class="w-full p-2 border rounded">
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Date of Birth</label>
        <div class="flex space-x-2">
          <select formControlName="dobMonth" class="w-1/3 p-2 border rounded">
            <option value="">Please select a month</option>
            <option *ngFor="let month of months" [value]="month">{{ month }}</option>
          </select>
          <select formControlName="dobDay" class="w-1/3 p-2 border rounded">
            <option value="">Please select a day</option>
            <option *ngFor="let day of days" [value]="day">{{ day }}</option>
          </select>
          <select formControlName="dobYear" class="w-1/3 p-2 border rounded">
            <option value="">Please select a year</option>
            <option *ngFor="let year of years" [value]="year">{{ year }}</option>
          </select>
        </div>
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">NIC or Passport Number</label>
        <input formControlName="nicPassport" type="text" class="w-full p-2 border rounded">
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Residential Address</label>
        <input formControlName="resStreet1" type="text" placeholder="Street Address" class="w-full p-2 border rounded mb-2">
        <input formControlName="resStreet2" type="text" placeholder="Street Address Line 2" class="w-full p-2 border rounded mb-2">
        <div class="flex space-x-2">
          <input formControlName="resCity" type="text" placeholder="City" class="w-1/2 p-2 border rounded">
          <input formControlName="resState" type="text" placeholder="State/Province" class="w-1/2 p-2 border rounded">
        </div>
        <div class="flex space-x-2 mt-2">
          <input formControlName="resPostCode" type="text" placeholder="Post Code" class="w-1/2 p-2 border rounded">
          <select formControlName="resCountry" class="w-1/2 p-2 border rounded">
            <option value="">Please Select</option>
            <option value="US">United States</option>
            <option value="UK">United Kingdom</option>
          </select>
        </div>
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Permanent Address</label>
        <input formControlName="permStreet1" type="text" placeholder="Street Address" class="w-full p-2 border rounded mb-2">
        <input formControlName="permStreet2" type="text" placeholder="Street Address Line 2" class="w-full p-2 border rounded mb-2">
        <div class="flex space-x-2">
          <input formControlName="permCity" type="text" placeholder="City" class="w-1/2 p-2 border rounded">
          <input formControlName="permState" type="text" placeholder="State/Province" class="w-1/2 p-2 border rounded">
        </div>
        <div class="flex space-x-2 mt-2">
          <input formControlName="permPostCode" type="text" placeholder="Post Code" class="w-1/2 p-2 border rounded">
          <select formControlName="permCountry" class="w-1/2 p-2 border rounded">
            <option value="">Please Select</option>
            <option value="US">United States</option>
            <option value="UK">United Kingdom</option>
          </select>
        </div>
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Phone Number</label>
        <input formControlName="phone" type="tel" placeholder="000-000-0000" class="w-full p-2 border rounded">
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Personal E-mail</label>
        <input formControlName="personalEmail" type="email" placeholder="ex: myname@example.com" class="w-full p-2 border rounded">
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Nationality</label>
        <input formControlName="nationality" type="text" class="w-full p-2 border rounded">
      </div>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Gender</label>
        <select formControlName="gender" class="w-full p-2 border rounded">
          <option value="">Please Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <p class="text-blue-900 mb-4">I hereby declare that the given details are true to the best of my knowledge and ability.</p>

      <div class="mb-4">
        <label class="block text-blue-900 font-semibold mb-2">Signature</label>
        <div class="border-dashed border-2 border-gray-300 p-4 text-center">
          <span class="text-gray-500">Sign Here</span>
        </div>
      </div>

      <div class="mb-4 flex justify-between">
        <span class="text-blue-900">Date</span>
        <input formControlName="date" type="date" class="p-2 border rounded">
      </div>

      <div class="text-center mb-4">
        <span class="text-blue-900">Powered by Jotform</span> <button type="button" (click)="closePopup()" class="text-blue-500 underline">Clear</button>
      </div>

      <div class="text-center">
        <button type="submit" [disabled]="emailForm.invalid" class="bg-green-500 text-white px-4 py-2 rounded">Submit Form</button>
      </div>
    </form>
  </div>
</dx-popup>